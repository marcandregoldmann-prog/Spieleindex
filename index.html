<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2196F3">
    <meta name="description" content="Magdeburg Spielplatz & Freizeit Karte">
    <title>Magdeburg Freizeitkarte</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- App CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="icon-192.png">
</head>
<body>
    <!-- Header -->
    <header>
        <h1>ğŸ¡ Magdeburg Freizeitkarte</h1>
        <button id="menuBtn" class="icon-btn" aria-label="MenÃ¼">â˜°</button>
    </header>

    <!-- Navigation Menu -->
    <nav id="menu" class="menu hidden">
        <button id="showAllBtn" class="menu-item">ğŸ“ Alle anzeigen</button>
        <button id="filterPlaygroundBtn" class="menu-item">ğŸ  Nur SpielplÃ¤tze</button>
        <button id="filterAttractionBtn" class="menu-item">ğŸª Nur Attraktionen</button>
        <button id="statsBtn" class="menu-item">ğŸ“Š Statistiken</button>
        <button id="helpBtn" class="menu-item">â“ Hilfe</button>
    </nav>

    <!-- Map Container -->
    <div id="map"></div>

    <!-- Add Location FAB -->
    <button id="addLocationBtn" class="fab" title="Neuen Ort hinzufÃ¼gen">
        <span class="fab-icon">+</span>
    </button>

    <!-- Modal fÃ¼r neuen/bearbeiteten Pin -->
    <div id="locationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Neuer Ort</h2>
                <button id="closeModal" class="close-btn">&times;</button>
            </div>
            <form id="locationForm">
                <input type="hidden" id="locationId">
                <input type="hidden" id="locationLat">
                <input type="hidden" id="locationLng">
                
                <div class="form-group">
                    <label for="locationName">Name des Ortes *</label>
                    <input type="text" id="locationName" required placeholder="z.B. Elbauenpark">
                </div>

                <div class="form-group">
                    <label for="locationCategory">Kategorie *</label>
                    <select id="locationCategory" required>
                        <option value="playground">ğŸ  Spielplatz</option>
                        <option value="attraction">ğŸª Attraktion</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="locationRating">Bewertung *</label>
                    <div class="rating-input">
                        <input type="radio" name="rating" id="star1" value="1" required>
                        <label for="star1">â­</label>
                        <input type="radio" name="rating" id="star2" value="2">
                        <label for="star2">â­</label>
                        <input type="radio" name="rating" id="star3" value="3">
                        <label for="star3">â­</label>
                        <input type="radio" name="rating" id="star4" value="4">
                        <label for="star4">â­</label>
                        <input type="radio" name="rating" id="star5" value="5">
                        <label for="star5">â­</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="locationDate">Letzter Besuch *</label>
                    <input type="date" id="locationDate" required>
                </div>

                <div class="form-group">
                    <label for="locationNotes">Notizen</label>
                    <textarea id="locationNotes" rows="3" placeholder="z.B. SchÃ¶ner Spielplatz mit KlettergerÃ¼st..."></textarea>
                </div>

                <div class="form-group">
                    <label for="locationMapsLink">Google Maps Link (optional)</label>
                    <input type="url" id="locationMapsLink" placeholder="https://maps.google.com/...">
                </div>

                <div class="form-actions">
                    <button type="button" id="cancelBtn" class="btn btn-secondary">Abbrechen</button>
                    <button type="submit" class="btn btn-primary">Speichern</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal fÃ¼r Pin-Details -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="detailTitle"></h2>
                <button id="closeDetailModal" class="close-btn">&times;</button>
            </div>
            <div id="detailContent"></div>
            <div class="form-actions">
                <button id="editLocationBtn" class="btn btn-secondary">Bearbeiten</button>
                <button id="deleteLocationBtn" class="btn btn-danger">LÃ¶schen</button>
                <button id="closeDetailBtn" class="btn btn-primary">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Modal fÃ¼r Statistiken -->
    <div id="statsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“Š Statistiken</h2>
                <button id="closeStatsModal" class="close-btn">&times;</button>
            </div>
            <div id="statsContent"></div>
            <div class="form-actions">
                <button id="closeStatsBtn" class="btn btn-primary">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Modal fÃ¼r Hilfe -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>â“ Hilfe</h2>
                <button id="closeHelpModal" class="close-btn">&times;</button>
            </div>
            <div class="help-content">
                <h3>So funktioniert die App:</h3>
                <ul>
                    <li><strong>Ort hinzufÃ¼gen:</strong> Klicke auf den blauen +-Button oder direkt auf die Karte</li>
                    <li><strong>Ort anzeigen:</strong> Klicke auf einen Pin auf der Karte</li>
                    <li><strong>Orte filtern:</strong> Nutze das MenÃ¼ (â˜°) oben rechts</li>
                    <li><strong>Offline nutzen:</strong> Die App funktioniert auch ohne Internet</li>
                    <li><strong>Installieren:</strong> Nutze "Zum Startbildschirm hinzufÃ¼gen" im Browser-MenÃ¼</li>
                </ul>
                <h3>Symbole:</h3>
                <ul>
                    <li>ğŸ  <strong>GrÃ¼ner Pin</strong> = Spielplatz</li>
                    <li>ğŸª <strong>Blauer Pin</strong> = Attraktion</li>
                </ul>
            </div>
            <div class="form-actions">
                <button id="closeHelpBtn" class="btn btn-primary">Verstanden</button>
            </div>
        </div>
    </div>

    <!-- Toast fÃ¼r Benachrichtigungen -->
    <div id="toast" class="toast"></div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- App JS -->
    <script src="app.js"></script>
</body>
</html>
